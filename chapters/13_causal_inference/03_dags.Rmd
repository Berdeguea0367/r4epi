# Directed Acyclic Graphs

```{=html}
<!-- 
Hidden comments placeholder
---------------------------

To preview:
bookdown::preview_chapter("chapters/13_causal_inference/03_dags.Rmd")

Copy and paste:
üëÜ**Here's what we did above:**
-->
```

::: under-construction
`r fontawesome::fa("hammer", fill = "#000000", height="1em")` This chapter is under heavy development and may still undergo significant changes.
:::

```{r dags, echo=FALSE}
# knitr::include_graphics("img/13_causal_inference/03_dags/figure.png")
```

```{r}
# Load the packages needed for the code below.
library(dplyr, warn.conflicts = FALSE)
library(dagitty)
library(ggdag, warn.conflicts = FALSE)
```

## Chain

<!-- What does bb mean in the code below? -->

```{r dags-dagitty-chain}
dag <- dagitty('dag {
  bb = "0, 0, 1, 1"
  x [pos = "-1, 0"]
  y [pos = "0, 0"]
  z [pos = "1, 0"]
  x -> y
  y -> z
}')
```

```{r}
ggdag(dag)
```

## Collider 

```{r}
dag <- dagitty('dag {
  bb = "0, 0, 1, 1"
  x [pos = "-1, 0"]
  y [pos = "0, 0"]
  z [pos = "1, 0"]
  x -> y
  z -> y
}')
```

```{r}
ggdag(dag)
```

```{r}
dag <- dagitty('dag {
  bb = "0, 0, 1, 1"
  x [pos = "-1, 0"]
  y [pos = "0, 0"]
  z [pos = "1, 0"]
  w [pos = "0, -1"]
  x -> y
  z -> y
  y -> w
}')
```

```{r}
ggdag(dag)
```

## Common cause

```{r}
dag <- dagitty('dag {
  bb = "0, 0, 1, 1"
  x [pos = "-1, 0"]
  y [pos = "0, 0"]
  z [pos = "1, 0"]
  y -> x
  y -> z
}')
```

```{r}
ggdag(dag)
```

## Common effect

```{r}
dag <- dagitty('dag {
  bb = "0, 0, 1, 1"
  x [pos = "-1, 0"]
  y [pos = "0, 0"]
  z [pos = "-1, 1"]
  x -> y
  z -> y
}')
```

```{r}
ggdag(dag)
```



<!-- Above: from lab warm-up -->


<!-- 
Ask them: 
- Create DAGS
- Identify R code that makes a particular DAG
- D-Separated or not
-->







## Comparing DAGs and RMSCC

Answers two different questions.

‚ÄúThe sufficient component cause model considers sets of actions, events, or states of nature which together inevitably bring about the outcome under consideration. The model gives an account of the causes of a particular effect. It addresses the question, ‚ÄòGiven a particular effect, what are the various events which might have been its cause?‚Äô‚Äù @Hernan2020-uu

‚ÄúThe potential outcomes or counterfactual model focuses on one particular cause or intervention and gives an account of the various effects of that cause. In contrast to the sufficient component cause framework, the potential outcomes framework addresses the question, ‚ÄòWhat would have occurred if a particular factor were intervened upon and thus set to a different level than it in fact was?‚Äô Unlike the sufficient component cause framework, the counterfactual framework does not require a detailed knowledge of the mechanisms by which the factor affects the outcome.‚Äô @Hernan2020-uu