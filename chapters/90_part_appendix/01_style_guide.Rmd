# Appendix A: Style Guide {-}

> Good coding style is like using correct punctuation. You can manage without it, but it sure makes things easier to read. As with styles of punctuation, there are many possible variations... Good style is important because while your code only has one author, it’ll usually have multiple readers. This is especially true when you’re writing code with others. In that case, it’s a good idea to agree on a common style up-front. Since no style is strictly better than another, working with others may mean that you’ll need to sacrifice some preferred aspects of your style. @Wickham2019-yt


This appendix outlines the style that I, and my collaborators, typically use when writing R code for a research project. Generally speaking, I follow [the Tidyverse style guide](https://style.tidyverse.org/) with a few tweaks that are listed below. Outside of my classes, you don’t have to use my style, but you really should find or create a style that works for you and your collaborators and use it consistently.

### File Names {-}

[The Tidyverse style guide](https://style.tidyverse.org/files.html#names) says that, "File names should be meaningful and end in `.R`." Just to be clear, this does not apply to file types other than R scripts. For example, R markdown files (.Rmd) and R data files (.Rds).

In addition to the file name guidance given in [The Tidyverse style guide](https://style.tidyverse.org/files.html#names), I suggest the following file naming conventions.

1. Use all lowercase   
2. Use a single word when it makes sense   
3. Separate multiple words with underscores (this is in [The Tidyverse style guide](https://style.tidyverse.org/))   
4. Match the script/Rmd name with the name of the RData file it creates   

```{r eval = FALSE}
# One word
admissions.R
admissions.Rmd
admissions.Rds

# Multiple words
weekly_recruiting_goals.R
weekly_recruiting_goals.Rmd
weekly_recruiting_goals.Rds
```

_Why use underscores in file names?_

> Generally, in the computer science and IT worlds, it is typically frowned on when files, web addresses - or really any kind of programming at all - are named with spaces inside of the title. The reasoning behind this is very simple. Empty space signifies the "end" of a character string.  Spaces inside of a URL or a linked file basically generate a faulty syntax that the server reads as the end of a character string.  The server sees "the end" and stops processing. When the full string is not processed, it can not be properly represented on your computer screen.  @Oregon_State_University2017-jv

If files need to be run in sequence, prefix them with numbers:

```{r eval = FALSE}
01_download.R
02_parse.R
03_explore.R
```

### Variable (object) names {-}

Similar to file naming guidelines above, and to [The Tidyverse style guide](https://style.tidyverse.org/syntax.html#object-names), object names should

1. Use all lowercase    
2. Use a single word when it makes sense   
   _- Generally, variable names should be nouns and function names should be verbs_    
3. Separate multiple words with underscores   
   _- In addition to the reasons for using underscores given above, using underscores instead of periods in your object names will make your code more transportable to other statistical programs (e.g., SAS & Stata) that don't allow periods_    
4. Match the data frame name with the name of the RData file you are saving it in.    

```{r eval = FALSE}
summary_stats
summary_stats.Rds
```

## Other syntax elements {-}

For all other syntax elements (i.e., spacing, function calls, control flow, long lines, semicolons, assignment, data, comments, functions, pipes, and ggplot2) please follow the [the Tidyverse style guide - syntax](https://style.tidyverse.org/syntax.html), [the Tidyverse style guide - funtions](https://style.tidyverse.org/functions.html), [the Tidyverse style guide - pipes](https://style.tidyverse.org/pipes.html), and [the Tidyverse style guide - ggplot2](https://style.tidyverse.org/ggplot2.html).

## Managing multiple files in projects {-}

When you are doing data management and analysis for a real-world project you will typically need to break the code up into multiple files. If not, the code often becomes really difficult to read and manage. Having said that, finding the code you are looking for when there are 10, 20, or more separate files isn't much fun either. Therefore, I suggest the following (or similar) file naming conventions be used in your projects.

* Separate _data cleaning_ and _data analysis_ into separate files (typically, .R or .Rmd).   
  
  - Data cleaning files should be prefixed with the word "data" and named as follows   
    + data_[order number]_[purpose]   
    + _Example_: data_03_prep_for_regression.Rmd    
  
  - Analysis files that do not directly create a table or figure should be
    prefixed with the word "analysis" and named as follows   
    + analysis_[order number]_[brief summary of content]    
    + _Example_: analysis_01_exploratory    
  
  - Analysis files that _DO_ directly create a table or figure should be prefixed with the word "table"  or "fig" respectively and named as follows   
    + table_[brief summary of content] or    
    + fig_[brief summary of content]   
    + _Example_: table_network_characteristics    

* Images    
  - Should typically be png (especially when they are intended for use HTML files).   
  - Should typically be saved to a separate "img" folder under the project home directory.   
  - Should be given a descriptive name.   
    + _Example_: histogram_heights.png, _NOT_ fig_02.png.

* Word and pdf files should be saved to a separate "docs" folder under the project home directory and given a descriptive name.

* Data files (i.e., RDS, RData, CSV, Excel, etc.) should typically be saved to a separate data folder under the project home directory and given a descriptive name.

* Note on You can do data manipulation (create variables, subset data, reshape data) in an analysis file if that analysis (table or chart) is the only analysis that uses the modified data. Otherwise, the modifications should be done in a separate R script saved in the data folder.

## Saving images {-}

I have found that the following image sizes typically work pretty well.

* 1920 x 1080 for HTML    
* 770 x 360 for Word    
