<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>6 R scripts | R for Epidemiology</title>
  <meta name="description" content="This is the textbook for Brad Cannell’s Introduction to R Programming for Epidemiologic Research course." />
  <meta name="generator" content="bookdown 0.18 and GitBook 2.6.7" />

  <meta property="og:title" content="6 R scripts | R for Epidemiology" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://brad-cannell.github.io/r4epi/" />
  
  <meta property="og:description" content="This is the textbook for Brad Cannell’s Introduction to R Programming for Epidemiologic Research course." />
  <meta name="github-repo" content="brad-cannell/r4epi" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="6 R scripts | R for Epidemiology" />
  
  <meta name="twitter:description" content="This is the textbook for Brad Cannell’s Introduction to R Programming for Epidemiologic Research course." />
  

<meta name="author" content="Brad Cannell" />


<meta name="date" content="2020-05-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="lets-get-programming.html"/>
<link rel="next" href="r-markdown.html"/>
<script src="libs/header-attrs-2.1/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Epidemiology</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="part"><span><b>I Getting Started</b></span></li>
<li class="chapter" data-level="1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html"><i class="fa fa-check"></i><b>1</b> Installing R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#download-and-install-on-a-mac"><i class="fa fa-check"></i><b>1.1</b> Download and install on a Mac</a></li>
<li class="chapter" data-level="1.2" data-path="installing-r-and-rstudio.html"><a href="installing-r-and-rstudio.html#download-and-install-on-a-pc"><i class="fa fa-check"></i><b>1.2</b> Download and install on a PC</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="what-is-r.html"><a href="what-is-r.html"><i class="fa fa-check"></i><b>2</b> What is R?</a>
<ul>
<li class="chapter" data-level="2.1" data-path="what-is-r.html"><a href="what-is-r.html#what-is-data"><i class="fa fa-check"></i><b>2.1</b> What is data?</a></li>
<li class="chapter" data-level="2.2" data-path="what-is-r.html"><a href="what-is-r.html#what-is-r-1"><i class="fa fa-check"></i><b>2.2</b> What is R?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="what-is-r.html"><a href="what-is-r.html#accessing-data"><i class="fa fa-check"></i><b>2.2.1</b> Accessing data</a></li>
<li class="chapter" data-level="2.2.2" data-path="what-is-r.html"><a href="what-is-r.html#managing-data"><i class="fa fa-check"></i><b>2.2.2</b> Managing data</a></li>
<li class="chapter" data-level="2.2.3" data-path="what-is-r.html"><a href="what-is-r.html#analyzing-data"><i class="fa fa-check"></i><b>2.2.3</b> Analyzing data</a></li>
<li class="chapter" data-level="2.2.4" data-path="what-is-r.html"><a href="what-is-r.html#presenting-data"><i class="fa fa-check"></i><b>2.2.4</b> Presenting data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html"><i class="fa fa-check"></i><b>3</b> Navigating the RStudio interface</a>
<ul>
<li class="chapter" data-level="3.1" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-console"><i class="fa fa-check"></i><b>3.1</b> The console</a></li>
<li class="chapter" data-level="3.2" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-environment-pane"><i class="fa fa-check"></i><b>3.2</b> The environment pane</a></li>
<li class="chapter" data-level="3.3" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-files-pane"><i class="fa fa-check"></i><b>3.3</b> The files pane</a></li>
<li class="chapter" data-level="3.4" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#the-source-pane"><i class="fa fa-check"></i><b>3.4</b> The source pane</a></li>
<li class="chapter" data-level="3.5" data-path="navigating-the-rstudio-interface.html"><a href="navigating-the-rstudio-interface.html#rstudio-preferences"><i class="fa fa-check"></i><b>3.5</b> RStudio preferences</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html"><i class="fa fa-check"></i><b>4</b> Speaking R’s language</a>
<ul>
<li class="chapter" data-level="4.1" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#r-is-a-language"><i class="fa fa-check"></i><b>4.1</b> R is a <em>language</em></a></li>
<li class="chapter" data-level="4.2" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#the-r-interpreter"><i class="fa fa-check"></i><b>4.2</b> The R interpreter</a></li>
<li class="chapter" data-level="4.3" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#errors"><i class="fa fa-check"></i><b>4.3</b> Errors</a></li>
<li class="chapter" data-level="4.4" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#functions"><i class="fa fa-check"></i><b>4.4</b> Functions</a></li>
<li class="chapter" data-level="4.5" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#objects"><i class="fa fa-check"></i><b>4.5</b> Objects</a></li>
<li class="chapter" data-level="4.6" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#comments"><i class="fa fa-check"></i><b>4.6</b> Comments</a></li>
<li class="chapter" data-level="4.7" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#packages"><i class="fa fa-check"></i><b>4.7</b> Packages</a></li>
<li class="chapter" data-level="4.8" data-path="speaking-rs-language.html"><a href="speaking-rs-language.html#programming-style"><i class="fa fa-check"></i><b>4.8</b> Programming style</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="lets-get-programming.html"><a href="lets-get-programming.html"><i class="fa fa-check"></i><b>5</b> Let’s get programming</a>
<ul>
<li class="chapter" data-level="5.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#simulating-data"><i class="fa fa-check"></i><b>5.1</b> Simulating data</a></li>
<li class="chapter" data-level="5.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#vectors"><i class="fa fa-check"></i><b>5.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#vector-types"><i class="fa fa-check"></i><b>5.2.1</b> Vector types</a></li>
<li class="chapter" data-level="5.2.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#double-vectors"><i class="fa fa-check"></i><b>5.2.2</b> Double vectors</a></li>
<li class="chapter" data-level="5.2.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#integer-vectors"><i class="fa fa-check"></i><b>5.2.3</b> Integer vectors</a></li>
<li class="chapter" data-level="5.2.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#logical-vectors"><i class="fa fa-check"></i><b>5.2.4</b> Logical vectors</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#data-frames"><i class="fa fa-check"></i><b>5.3</b> Data frames</a></li>
<li class="chapter" data-level="5.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#our-first-analysis"><i class="fa fa-check"></i><b>5.4</b> Our first analysis</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="lets-get-programming.html"><a href="lets-get-programming.html#manual-calculation-of-the-mean"><i class="fa fa-check"></i><b>5.4.1</b> Manual calculation of the mean</a></li>
<li class="chapter" data-level="5.4.2" data-path="lets-get-programming.html"><a href="lets-get-programming.html#dollar-sign-notation"><i class="fa fa-check"></i><b>5.4.2</b> Dollar sign notation</a></li>
<li class="chapter" data-level="5.4.3" data-path="lets-get-programming.html"><a href="lets-get-programming.html#bracket-notation"><i class="fa fa-check"></i><b>5.4.3</b> Bracket notation</a></li>
<li class="chapter" data-level="5.4.4" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-sum-function"><i class="fa fa-check"></i><b>5.4.4</b> The sum function</a></li>
<li class="chapter" data-level="5.4.5" data-path="lets-get-programming.html"><a href="lets-get-programming.html#nesting-functions"><i class="fa fa-check"></i><b>5.4.5</b> Nesting functions</a></li>
<li class="chapter" data-level="5.4.6" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-length-function"><i class="fa fa-check"></i><b>5.4.6</b> The length function</a></li>
<li class="chapter" data-level="5.4.7" data-path="lets-get-programming.html"><a href="lets-get-programming.html#the-mean-function"><i class="fa fa-check"></i><b>5.4.7</b> The mean function</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="lets-get-programming.html"><a href="lets-get-programming.html#some-common-errors"><i class="fa fa-check"></i><b>5.5</b> Some common errors</a></li>
<li class="chapter" data-level="5.6" data-path="lets-get-programming.html"><a href="lets-get-programming.html#summary"><i class="fa fa-check"></i><b>5.6</b> Summary</a></li>
</ul></li>
<li class="part"><span><b>II Coding Tools and Best Practices</b></span></li>
<li class="chapter" data-level="6" data-path="r-scripts.html"><a href="r-scripts.html"><i class="fa fa-check"></i><b>6</b> R scripts</a>
<ul>
<li class="chapter" data-level="6.1" data-path="r-scripts.html"><a href="r-scripts.html#creating-r-scripts"><i class="fa fa-check"></i><b>6.1</b> Creating R scripts</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>7</b> R markdown</a></li>
<li class="chapter" data-level="8" data-path="coding-best-practices.html"><a href="coding-best-practices.html"><i class="fa fa-check"></i><b>8</b> Coding best Practices</a>
<ul>
<li class="chapter" data-level="8.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#general-principles"><i class="fa fa-check"></i><b>8.1</b> General principles</a></li>
<li class="chapter" data-level="8.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#code-comments"><i class="fa fa-check"></i><b>8.2</b> Code comments</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#defining-key-variables"><i class="fa fa-check"></i><b>8.2.1</b> Defining key variables</a></li>
<li class="chapter" data-level="8.2.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#what-this-code-is-trying-to-accomplish"><i class="fa fa-check"></i><b>8.2.2</b> What this code is trying to accomplish</a></li>
<li class="chapter" data-level="8.2.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#why-i-chose-this-particular-strategy"><i class="fa fa-check"></i><b>8.2.3</b> Why I chose this particular strategy</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#style-guidelines"><i class="fa fa-check"></i><b>8.3</b> Style guidelines</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="coding-best-practices.html"><a href="coding-best-practices.html#object-variable-names"><i class="fa fa-check"></i><b>8.3.1</b> Object (variable) names</a></li>
<li class="chapter" data-level="8.3.2" data-path="coding-best-practices.html"><a href="coding-best-practices.html#use-names-that-are-informative"><i class="fa fa-check"></i><b>8.3.2</b> Use names that are informative</a></li>
<li class="chapter" data-level="8.3.3" data-path="coding-best-practices.html"><a href="coding-best-practices.html#file-names"><i class="fa fa-check"></i><b>8.3.3</b> File Names</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Descriptive Analysis</b></span></li>
<li class="chapter" data-level="9" data-path="overview.html"><a href="overview.html"><i class="fa fa-check"></i><b>9</b> Overview</a>
<ul>
<li class="chapter" data-level="9.1" data-path="overview.html"><a href="overview.html#measurement"><i class="fa fa-check"></i><b>9.1</b> Measurement</a></li>
<li class="chapter" data-level="9.2" data-path="overview.html"><a href="overview.html#descriptive-analysis"><i class="fa fa-check"></i><b>9.2</b> Descriptive analysis</a></li>
</ul></li>
<li class="part"><span><b>IV Appendix</b></span></li>
<li class="chapter" data-level="" data-path="appendix-a-glossary.html"><a href="appendix-a-glossary.html"><i class="fa fa-check"></i>Appendix A: Glossary</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Epidemiology</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-scripts" class="section level1" number="6">
<h1><span class="header-section-number">6</span> R scripts</h1>
<p>Up to this point, I’ve only showed you how to submit your R code to R in the console. <a href="r-scripts.html#fig:using-console">6.1</a></p>
<div class="figure"><span id="fig:using-console"></span>
<img src="img/02_part_coding_tools_and_best_practices/02_r_scripts/using_console.png" alt="Submitting R code in the console."  />
<p class="caption">
Figure 6.1: Submitting R code in the console.
</p>
</div>
<p>Submitting code directly to the console in this way works well for quick little tasks and snippets of code. But, writing R programs this way has some drawbacks that are probably already obvious to you. Namely, your code isn’t saved anywhere. And, because it isn’t saved anywhere, you can’t modify it, use it again later, or share it with others.</p>
<p>Technically, the statements above are not entirely true. When you submit code to the console, it is copied to RStudio’s History pane and from there you can save, modify, and share with others. But, this method is much less convenient, and provides you with far fewer whistles and bells than the other methods we’ll discuss in this book. <a href="r-scripts.html#fig:history">6.2</a></p>
<div class="figure"><span id="fig:history"></span>
<img src="img/02_part_coding_tools_and_best_practices/02_r_scripts/history.png" alt="Console commands copied to the History pane."  />
<p class="caption">
Figure 6.2: Console commands copied to the History pane.
</p>
</div>
<p>Those of you who have worked with other statistical programs before may be familiar with the idea of writing, modifying, saving, and sharing code scripts. SAS calls these code scripts “SAS programs”, Stata calls them “DO files”, and SPSS calls them “SPSS syntax files”. If you haven’t created code scripts before, don’t worry. There really isn’t much to it.</p>
<p>In R, the most basic type of code script is simply called an R script. An R script is just a plane text document that contains R code and comments. R script files end with the file extension <code>.R</code>.</p>
<p>Before I dive into giving you any more details about R scripts, I want to say that I’m actually going to discourage you from using them for most of what we do in this book. Instead, I’m going to encourage you to use R markdown files for the majority of your interactive coding, and for preparing your final products for end users. The next chapter is all about R markdown documents. However, I’m starting with R scripts because:</p>
<ol style="list-style-type: decimal">
<li>They are simpler than R markdown documents, so they are a good place to start.<br />
</li>
<li>Some of what I discuss below will also apply to R markdown documents.<br />
</li>
<li>R scripts <em>are</em> a better choice than R markdown documents in some situations (e.g., writing R packages, creating Shiny apps).<br />
</li>
<li>Some people just prefer using R scripts.</li>
</ol>
<p>With all that said, the screenshot below is of an example R script:</p>
<div class="figure"><span id="fig:example-script"></span>
<img src="img/02_part_coding_tools_and_best_practices/02_r_scripts/example_script.png" alt="Example R script."  />
<p class="caption">
Figure 6.3: Example R script.
</p>
</div>
<p>As you can see, I’ve called out a couple key elements of the R script to discuss. <a href="r-scripts.html#fig:example-script">6.3</a></p>
<p>First, instead of just jumping into writing R code, lines 1-5 contain a <strong>header</strong> that I’ve created with comments. Because I’ve created it with comments, the R interpreter will ignore it. But, it will help other people you collaborate with (including future you) figure out what this script does. Therefore, I suggest that your header includes at least the following elements:</p>
<ol style="list-style-type: decimal">
<li>A brief description of what the R script does.<br />
</li>
<li>The author(s) who wrote the R script.<br />
</li>
<li>Important dates. For example, the date it was originally created and the date it was last modified. You can usually get these dates from your computer’s operating system, but they aren’t always accurate.</li>
</ol>
<p>Second, you may notice that I also used comments to create something I’m calling <strong>decorations</strong> on lines 1, 5, and 17. Like all comments, they are ignored by the R interpreter. But, they help create visual separation between distinct sections of your R code, which makes your code easier for <em>humans</em> to read. I tend to use the equal sign (<code># ====</code>) for separating major sections and the dash (<code># ----</code>) for separating minor sections; although, “major” and “minor” are admittedly subjective.</p>
<p>I haven’t explicitly highlighted it in the screenshot above, but it’s probably worth pointing out the use of line breaks (i.e., returns) in the code as well. This is much easier to read…</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="r-scripts.html#cb80-1"></a><span class="co"># Load packages</span></span>
<span id="cb80-2"><a href="r-scripts.html#cb80-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb80-3"><a href="r-scripts.html#cb80-3"></a></span>
<span id="cb80-4"><a href="r-scripts.html#cb80-4"></a><span class="co"># Load data</span></span>
<span id="cb80-5"><a href="r-scripts.html#cb80-5"></a><span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span>
<span id="cb80-6"><a href="r-scripts.html#cb80-6"></a></span>
<span id="cb80-7"><a href="r-scripts.html#cb80-7"></a><span class="co"># I&#39;m not sure what&#39;s in the mtcars data. I&#39;m printing it below to take a look</span></span>
<span id="cb80-8"><a href="r-scripts.html#cb80-8"></a>mtcars</span>
<span id="cb80-9"><a href="r-scripts.html#cb80-9"></a></span>
<span id="cb80-10"><a href="r-scripts.html#cb80-10"></a><span class="co">## Data analysis</span></span>
<span id="cb80-11"><a href="r-scripts.html#cb80-11"></a><span class="co"># ----------------------------------------------------------------------------</span></span>
<span id="cb80-12"><a href="r-scripts.html#cb80-12"></a></span>
<span id="cb80-13"><a href="r-scripts.html#cb80-13"></a><span class="co"># Below, we calculate the average mpg across all cars in the mtcars data frame.</span></span>
<span id="cb80-14"><a href="r-scripts.html#cb80-14"></a><span class="kw">mean</span>(mtcars<span class="op">$</span>mpg)</span>
<span id="cb80-15"><a href="r-scripts.html#cb80-15"></a></span>
<span id="cb80-16"><a href="r-scripts.html#cb80-16"></a><span class="co"># Here, we also plot mpg against displacement.</span></span>
<span id="cb80-17"><a href="r-scripts.html#cb80-17"></a><span class="kw">plot</span>(mtcars<span class="op">$</span>mpg, mtcars<span class="op">$</span>disp)</span></code></pre></div>
<p>than this…</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="r-scripts.html#cb81-1"></a><span class="co"># Load packages</span></span>
<span id="cb81-2"><a href="r-scripts.html#cb81-2"></a><span class="kw">library</span>(dplyr)</span>
<span id="cb81-3"><a href="r-scripts.html#cb81-3"></a><span class="co"># Load data</span></span>
<span id="cb81-4"><a href="r-scripts.html#cb81-4"></a><span class="kw">data</span>(<span class="st">&quot;mtcars&quot;</span>)</span>
<span id="cb81-5"><a href="r-scripts.html#cb81-5"></a><span class="co"># I&#39;m not sure what&#39;s in the mtcars data. I&#39;m printing it below to take a look</span></span>
<span id="cb81-6"><a href="r-scripts.html#cb81-6"></a>mtcars</span>
<span id="cb81-7"><a href="r-scripts.html#cb81-7"></a><span class="co">## Data analysis</span></span>
<span id="cb81-8"><a href="r-scripts.html#cb81-8"></a><span class="co"># ----------------------------------------------------------------------------</span></span>
<span id="cb81-9"><a href="r-scripts.html#cb81-9"></a><span class="co"># Below, we calculate the average mpg across all cars in the mtcars data frame.</span></span>
<span id="cb81-10"><a href="r-scripts.html#cb81-10"></a><span class="kw">mean</span>(mtcars<span class="op">$</span>mpg)</span>
<span id="cb81-11"><a href="r-scripts.html#cb81-11"></a><span class="co"># Here, we also plot mpg against displacement.</span></span>
<span id="cb81-12"><a href="r-scripts.html#cb81-12"></a><span class="kw">plot</span>(mtcars<span class="op">$</span>mpg, mtcars<span class="op">$</span>disp)</span></code></pre></div>
<p>Third, it’s considered a best practice to keep each line of code to 80 characters (including spaces) or less. There’s a little box at the bottom left corner of your R script that will tell you what row your cursor is currently in and how many characters into that row your cursor is currently at (starting at 1, not 0).</p>
<div class="figure"><span id="fig:counter"></span>
<img src="img/02_part_coding_tools_and_best_practices/02_r_scripts/counter.png" alt="Cursor location."  />
<p class="caption">
Figure 6.4: Cursor location.
</p>
</div>
<p>For example, <code>20:3</code> corresponds to having your cursor between the “e” and the “a” in <code>mean(mtcars$mpg)</code> in the example script above. <a href="r-scripts.html#fig:counter">6.4</a></p>
<p>Fourth, it’s also considered a best practice to load any packages that your R code will use at the very top of your R script (lines 7 &amp; 8). <a href="r-scripts.html#fig:example-script">6.3</a> Doing so will make it much easier for others (including future you) to see what packages your R code needs to work properly right from the start.</p>
<div id="creating-r-scripts" class="section level2" number="6.1">
<h2><span class="header-section-number">6.1</span> Creating R scripts</h2>
<p>To create your own R scripts, click on the icon shown below <a href="r-scripts.html#fig:new-r-script1">6.5</a> you will get a dropdown box with a list of files you can create. <a href="r-scripts.html#fig:new-r-script2">6.6</a></p>
<div class="figure"><span id="fig:new-r-script1"></span>
<img src="img/02_part_coding_tools_and_best_practices/02_r_scripts/new_r_script1.png" alt="Click the new source document icon."  />
<p class="caption">
Figure 6.5: Click the new source document icon.
</p>
</div>
<p>Click the very first option – R Script.</p>
<div class="figure"><span id="fig:new-r-script2"></span>
<img src="img/02_part_coding_tools_and_best_practices/02_r_scripts/new_r_script2.png" alt="New source document options."  />
<p class="caption">
Figure 6.6: New source document options.
</p>
</div>
<p>When you do, a new untitled R Script will appear in the source pane.</p>
<div class="figure"><span id="fig:new-r-script3"></span>
<img src="img/02_part_coding_tools_and_best_practices/02_r_scripts/new_r_script3.png" alt="A blank R script in the source pane."  />
<p class="caption">
Figure 6.7: A blank R script in the source pane.
</p>
</div>
<p>And that’s pretty much it. Everything else in figure <a href="r-scripts.html#fig:example-script">6.3</a> is just R code and comments about the R code. But, you can now easily save, modify, and share this code with others. In the next chapter, we are going to learn how to write R code in R markdown files, where we can add a ton of whistles and bells to this simple R script.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="lets-get-programming.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-markdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
